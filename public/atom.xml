<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Möbius Idea's]]></title>
  <link href="http://www.ashish-upadhyay.com/atom.xml" rel="self"/>
  <link href="http://www.ashish-upadhyay.com/"/>
  <updated>2013-04-30T03:43:11+05:30</updated>
  <id>http://www.ashish-upadhyay.com/</id>
  <author>
    <name><![CDATA[Ashish Upadhyay]]></name>
    <email><![CDATA[ashish.upadhyaye@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Starting With Rubymotion]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2013/04/30/starting-with-rubymotion/"/>
    <updated>2013-04-30T01:17:00+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2013/04/30/starting-with-rubymotion</id>
    <content type="html"><![CDATA[<h3><a href="http://www.rubymotion.com">Rubymotion</a></h3>

<blockquote><p>RubyMotion is a revolutionary toolchain for iOS.
It lets you quickly develop and test native iOS applications for iPhone or iPad, all using the awesome Ruby language you know and love.</p></blockquote>

<hr />

<p> <em>To start with Rubymotion we would need</em></p>

<ul>
<li>A Mac</li>
<li>Ruby</li>
<li>xCode</li>
<li>Command Line Build Tools</li>
<li>Rubymotion</li>
<li>Text editor</li>
<li>Little knowledge of the Cocoa API&#8217;s</li>
<li>Faith, Hope and Goodwill !</li>
</ul>


<hr />

<p>Assumming that the setup is done without any issues, Lets start</p>

<p><em>Check for an update for the Rubymotion installer</em></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo motion update</span></code></pre></td></tr></table></div></figure>


<p><img src="http://www.ashish-upadhyay.com/images/rubymotion/rm-update.png" alt="Alt Icon" /></p>

<p><em>Creating our first application</em></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>motion create RssReader</span></code></pre></td></tr></table></div></figure>


<p><img src="http://www.ashish-upadhyay.com/images/rubymotion/rm-create.png" alt="Alt Icon" /></p>

<p><em>Structure of the Rubymotion application</em>
<img src="http://www.ashish-upadhyay.com/images/rubymotion/rm-structure.png" alt="Alt Icon" /></p>

<p><em>Explaining the structure of the application</em></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>app_delegate.rb       : Entry point of an iOS application
</span><span class='line'>Default-568h@2x.png   : Default Splash Screen for iPhone5
</span><span class='line'>main_spec.rb          sd: Main spec file
</span><span class='line'>Rakefile              : Application configuration</span></code></pre></td></tr></table></div></figure>


<p><em>Running the application on the Simulator</em></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake</span></code></pre></td></tr></table></div></figure>


<p><img src="http://www.ashish-upadhyay.com/images/rubymotion/rm-simulator.png" alt="Alt Icon" /></p>

<blockquote><p>So this is the first very basic application which we have put up and running on a simulator.
I will be moving step by step from the basics of using Ruby alongwith Cocoa and creating a Demo application throught it.</p></blockquote>

<hr />

<blockquote><p>Thanks</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using Rubymotion for iOS application development]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2013/03/23/Rubymotion/"/>
    <updated>2013-03-23T00:00:00+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2013/03/23/Rubymotion</id>
    <content type="html"><![CDATA[<h2>TCS RSS Feed Reader  123</h2>

<p><a href="https://github.com/upadhyay-ashish/TCSRssReader">TCS RSS Feed</a></p>

<p>This is an iOS application build using</p>

<ul>
<li><a href="http://rubymotion.com/">Rubymotion</a></li>
<li><a href="http://gembundler.com/">Bundler</a></li>
<li><a href="http://cocoapods.org/">CocoaPods</a></li>
<li><a href="https://github.com/siuying/NanoStoreInMotion">NanoStoreInMotion</a></li>
<li><a href="www.pixate.com">Pixate iOS Styling Framework</a></li>
</ul>


<h3>Running on Simulator/Device</h3>

<p>You will need Rubymotion installed on your Mac.</p>

<ol>
<li>Clone repo <code> git clone git@github.com:upadhyay-ashish/TCSRssReader.git</code></li>
<li>Bundle gems <code> bundle install </code></li>
<li>Setup cocoapods <code> pod setup </code></li>
<li>Setup Developer license reference in the Rakefile</li>
<li>To run on simulator <code> rake </code> else to run on a Device <code> rake device </code></li>
<li>To create a distribution IPA <code> rake archive:distribution </code></li>
</ol>


<h3>Screenshots</h3>

<p>  <img src="http://www.ashish-upadhyay.com/images/March-23-2013/icon.png" alt="Alt Icon" />  <img src="http://www.ashish-upadhyay.com/images/March-23-2013/menu.png" alt="Alt Icon" /><br/>
  <img src="http://www.ashish-upadhyay.com/images/March-23-2013/events.png" alt="Alt Icon" />  <img src="http://www.ashish-upadhyay.com/images/March-23-2013/news.png" alt="Alt Icon" /> <br/>
  <img src="http://www.ashish-upadhyay.com/images/March-23-2013/press_releases.png" alt="Alt Icon" /></p>

<h3>Suggestions ?</h3>

<p>Please log an issue <a href="https://github.com/upadhyay-ashish/TCSRssReader/issues">here</a></p>

<p><a href="ashish.upadhyaye@gmail.com">ashish.upadhyaye@gmail.com</a></p>

<hr />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Replacing master with a branch GIT]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2013/02/25/Replacing-master-with-a-branch-GIT/"/>
    <updated>2013-02-25T17:19:27+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2013/02/25/Replacing-master-with-a-branch-GIT</id>
    <content type="html"><![CDATA[<h3>This will help us to overwrite the master branch with a new branch incase the new branch is in a better state than the master</h3>

<pre><code>    git checkout seotweaks
    git merge -s ours master
    git checkout master
    git merge seotweaks  
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using Oracle JDBC with JRuby on Mac OSx]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2013/01/08/Using-Oracle-JDBC-with-JRuby-on-Mac-OSx/"/>
    <updated>2013-01-08T21:02:14+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2013/01/08/Using-Oracle-JDBC-with-JRuby-on-Mac-OSx</id>
    <content type="html"><![CDATA[<h3>Please follow the below steps to create a jruby library to connect to any oracle database on Mac OS x using Java ODBC drivers.</h3>

<ul>
<li>Create the Library folder and the Ruby file. eg <code>Sample.rb</code></li>
<li>Add Gemfile to enable using jruby to connect to the database</li>
<li><p>Add the following gems to the Gemfile</p>

<pre><code>gem 'activerecord'
gem "activerecord-jdbc-adapter"
</code></pre></li>
<li><p>In the ruby file Sample.rb here please use the following lines and then write appropriate  code to access the data.</p>

<pre><code>class Person &lt; ActiveRecord::Base
    establish_connection(
      :adapter  =&gt; 'jdbc',
      :driver   =&gt; 'oracle.jdbc.driver.OracleDriver',
      :url      =&gt; 'jdbc:oracle:thin:@server:port/sid',
      :username =&gt; 'ors',
      :password =&gt; 'ors'
      )
      self.table_name = :table_name_here
        def self.all
          connection.select_all &lt;&lt;-SQL
                  select * from table_name_here
             SQL
        end
 end
</code></pre></li>
<li><p>Go to terminal ,run</p>

<pre><code>bundle install 
jruby Sample.rb
</code></pre></li>
<li><p>If there is a driver not found error please download the driver from oracle site here
and place it in <code>/Library/Java/Extensions/</code> on your mac.</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using nested_forms gem + dropbox-paperclip + twitter-bootstrap]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2012/12/08/Using-nested_forms-gem-dropbox-paperclip-twitter-bootstrap/"/>
    <updated>2012-12-08T13:55:52+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2012/12/08/Using-nested_forms-gem-dropbox-paperclip-twitter-bootstrap</id>
    <content type="html"><![CDATA[<h4>This is a tutorial about using nested_forms gem with dropbox-paperclip plugin on Heroku to create a multiple photo upload albums interface with twitter bootstrap</h4>

<p><a href="http://ashish-albums.herokuapp.com">Demo application</a></p>

<ul>
<li>Create a new rails app and add the gems to Gemfile.**</li>
</ul>


<div class="highlight"><pre><code class="ruby">        <span class="n">paperclip</span>
        <span class="n">paperclip</span><span class="o">-</span><span class="n">dropbox</span>
        <span class="n">nested_form</span>     
      
</code></pre></div>


<ul>
<li>Create 3 models**</li>
</ul>


<div class="highlight"><pre><code class="ruby">        <span class="n">rails</span> <span class="n">g</span> <span class="n">model</span> <span class="no">User</span> <span class="nb">name</span><span class="ss">:string</span>  
        <span class="n">rails</span> <span class="n">g</span> <span class="n">model</span> <span class="no">Album</span> <span class="nb">name</span><span class="ss">:string</span> <span class="n">user_id</span><span class="ss">:integer</span>
        <span class="n">rails</span> <span class="n">g</span> <span class="n">model</span> <span class="no">Photo</span> <span class="n">tags_name</span><span class="ss">:string</span> <span class="n">album_id</span><span class="ss">:integer</span>    
   
</code></pre></div>


<ul>
<li>Adding relationships among models

<h4>in app/models/user.rb</h4></li>
</ul>


<div class="highlight"><pre><code class="ruby">        <span class="n">has_many</span> <span class="ss">:albums</span><span class="p">,</span> <span class="ss">:dependent</span> <span class="o">=</span><span class="ss">:destroy</span>  
        <span class="n">accepts_nested_attributes_for</span> <span class="ss">:albums</span>  
        <span class="n">attr_accessible</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:albums_attributes</span>  
        <span class="n">validates_presence_of</span> <span class="ss">:name</span>    
        <span class="n">belongs_to</span> <span class="ss">:user</span>   
        <span class="n">has_many</span> <span class="ss">:photos</span><span class="p">,</span> <span class="ss">:dependent</span> <span class="o">=</span><span class="ss">:destroy</span>  
        <span class="n">accepts_nested_attributes_for</span> <span class="ss">:photos</span><span class="p">,</span> <span class="ss">:allow_destroy</span> <span class="o">=</span><span class="kp">true</span>  
        <span class="n">attr_accessible</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:photos_attributes</span>  
        <span class="n">validates_presence_of</span> <span class="ss">:name</span>   
        <span class="n">belongs_to</span> <span class="ss">:album</span>  
        <span class="n">attr_accessible</span> <span class="ss">:avatar</span><span class="p">,</span> <span class="ss">:tags_name</span>  
        <span class="n">has_attached_file</span> <span class="ss">:avatar</span><span class="p">,</span>  
        <span class="ss">:storage</span> <span class="o">=</span><span class="ss">:dropbox</span><span class="p">,</span>  
        <span class="ss">:dropbox_credentials</span> <span class="o">=</span><span class="s2">&quot;</span><span class="si">#{</span><span class="no">Rails</span><span class="o">.</span><span class="n">root</span><span class="si">}</span><span class="s2">/config/dropbox.yml&quot;</span><span class="p">,</span>  
        <span class="ss">:styles</span> <span class="o">=</span><span class="p">{</span> <span class="ss">:thumb</span> <span class="o">=</span><span class="s2">&quot;100x100&quot;</span> <span class="p">},</span>  
        <span class="ss">:dropbox_options</span> <span class="o">=</span><span class="p">{</span>  
        <span class="ss">:path</span> <span class="o">=</span><span class="nb">proc</span> <span class="p">{</span> <span class="o">|</span><span class="n">style</span><span class="o">|</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">style</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">_</span><span class="si">#{</span><span class="n">avatar</span><span class="o">.</span><span class="n">original_filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>  
        <span class="p">}</span>  
        <span class="n">validates_presence_of</span> <span class="ss">:avatar</span>   
</code></pre></div>


<ul>
<li>Adding a controller and a few actions**</li>
</ul>


<div class="highlight"><pre><code class="ruby">   
    <span class="n">rails</span> <span class="n">g</span> <span class="n">controller</span> <span class="no">Users</span> 
        <span class="n">add</span> <span class="n">following</span> <span class="n">code</span> <span class="n">to</span> <span class="n">the</span> <span class="n">controller</span> 
        <span class="k">def</span> <span class="nf">index</span>  
         <span class="vi">@users</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">all</span>  
        <span class="k">end</span>  
          
        <span class="k">def</span> <span class="nf">new</span>  
         <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span>  
        <span class="k">end</span>  
          
        <span class="k">def</span> <span class="nf">create</span>  
         <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:user</span><span class="o">]</span><span class="p">)</span>  
         <span class="k">if</span> <span class="vi">@user</span><span class="o">.</span><span class="n">save</span>  
          <span class="n">redirect_to</span> <span class="n">root_url</span>  
          <span class="k">else</span>  
           <span class="n">redirect_to</span> <span class="n">root_url</span>  
         <span class="k">end</span>  
        <span class="k">end</span>  
          
        <span class="k">def</span> <span class="nf">show_albums</span>  
         <span class="vi">@albums</span> <span class="o">=</span> <span class="no">Album</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>  
        <span class="k">end</span>  
          
        <span class="k">def</span> <span class="nf">destroy</span>  
         <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>  
         <span class="vi">@user</span><span class="o">.</span><span class="n">destroy</span>  
         <span class="n">redirect_to</span> <span class="n">root_url</span>  
        <span class="k">end</span> 
      
</code></pre></div>


<ul>
<li>Adding routes to routes.rb</li>
</ul>


<div class="highlight"><pre><code class="ruby">   
        <span class="n">resources</span> <span class="ss">:users</span> <span class="k">do</span>  
         <span class="n">member</span> <span class="k">do</span>  
         <span class="n">get</span> <span class="s1">&#39;show_albums&#39;</span>  
         <span class="k">end</span>  
        <span class="k">end</span>  
        <span class="n">root</span> <span class="ss">:to</span> <span class="o">=</span><span class="s1">&#39;users#index&#39;</span>  
</code></pre></div>


<ul>
<li>Creating views for forms and data show</li>
</ul>


<div class="highlight"><pre><code class="ruby">   
        <span class="n">index</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">erb</span>
        <span class="kp">new</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">erb</span>
        <span class="n">show_albums</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">erb</span>
        <span class="n">_album_fields</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">erb</span>
        <span class="n">_photo_fields</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">erb</span>
</code></pre></div>


<ul>
<li>Adding form html to views**

<h4>in index.html.erb :**</h4></li>
</ul>


<div class="highlight"><pre><code class="ruby">   
        <span class="o">&lt;</span><span class="sx">%= link_to &#39;New User&#39;, new_user_path , :class =</span><span class="o">&gt;</span> <span class="s1">&#39;btn btn-medium btn-primary pull-right&#39;</span><span class="sx">%&gt;</span>
<span class="sx">        &lt;table class=&quot;table table-striped&quot;&gt;</span>
        <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="no">Name</span><span class="o">&lt;</span><span class="sr">/th&gt;</span>
<span class="sr">        &lt;th&gt;Album Names&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;!--</span><span class="n">th</span><span class="o">&gt;</span><span class="no">Tags</span><span class="o">&lt;</span><span class="sr">/th--&gt;</span>
<span class="sr">        &lt;th&gt;Destroy&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="sr">/tr&gt;</span>
<span class="sr">        &lt;% @users.each do |user| %&gt;</span>
<span class="sr">        &lt;tr&gt;</span>
<span class="sr">        &lt;td&gt;&lt;%= user.name %&gt;&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="sx">% (user_albums_link </span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">album_link</span><span class="o">|</span> <span class="sx">%&gt;</span>
<span class="sx">            &lt;%= album_link.html_safe %&gt;</span>
          <span class="o">&lt;</span><span class="sx">% end %&gt;</span>
<span class="sx">         &lt;% thumbnails = show_photo_thumbnails(user.albums) if user.albums %&gt;</span>
         <span class="o">&lt;</span><span class="sx">% if </span><span class="n">thumbnails</span> <span class="sx">%&gt;</span>
<span class="sx">            &lt;% thumbnails.each do |thumb| %&gt;</span>
              <span class="o">&lt;</span><span class="sx">%= thumb.html_safe  %&gt;</span>
<span class="sx">            &lt;% end %&gt;</span>
<span class="sx">         &lt;% end %&gt;</span>
<span class="sx">        &lt;/td&gt;</span>
<span class="sx">        &lt;!--td&gt;</span>
<span class="sx">          &lt;%#=</span> <span class="n">tags</span> <span class="n">user</span><span class="o">.</span><span class="n">albums</span> <span class="sx">%&gt;</span>
<span class="sx">        &lt;/td--&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="sx">%= link_to t(&#39;.destroy&#39;, :default =</span><span class="o">&gt;</span> <span class="n">t</span><span class="p">(</span><span class="s2">&quot;helpers.links.destroy&quot;</span><span class="p">)),</span>
              <span class="n">user_path</span><span class="p">(</span><span class="n">user</span><span class="p">),</span>
              <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:delete</span><span class="p">,</span>
              <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:confirm</span> <span class="o">=&gt;</span> <span class="n">t</span><span class="p">(</span><span class="s1">&#39;.confirm&#39;</span><span class="p">,</span> 
              <span class="ss">:default</span> <span class="o">=&gt;</span> <span class="n">t</span><span class="p">(</span><span class="s2">&quot;helpers.links.confirm&quot;</span><span class="p">,</span> <span class="ss">:default</span> <span class="o">=&gt;</span> <span class="s1">&#39;Are you sure?&#39;</span><span class="p">))</span> <span class="p">},</span>
              <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s1">&#39;btn btn-mini btn-danger&#39;</span> <span class="sx">%&gt;</span>
<span class="sx">        &lt;/td&gt;</span>
        <span class="o">&lt;</span><span class="sr">/tr&gt;</span>
<span class="sr">        &lt;% end %&gt;</span>
<span class="sr">        &lt;/</span><span class="n">table</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">br</span> <span class="sr">/&gt;</span>
<span class="sr">  </span>
</code></pre></div>


<ul>
<li>in new.html.erb</li>
</ul>


<div class="highlight"><pre><code class="ruby">     
        <span class="o">&lt;</span><span class="sx">%= nested_form_for @user, :html =</span><span class="o">&gt;</span> <span class="p">{</span> <span class="ss">:multipart</span> <span class="o">=&gt;</span> <span class="kp">true</span> <span class="p">}</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="sx">%&gt;</span>
<span class="sx">        &lt;div class=&quot;controls&quot;&gt;</span>
          <span class="no">Username</span> <span class="p">:</span>
          <span class="o">&lt;</span><span class="sx">%= f.text_field :name, :class =</span><span class="o">&gt;</span> <span class="s1">&#39;text_field&#39;</span> <span class="sx">%&gt;</span>
<span class="sx">        &lt;/div&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.fields_for :albums %&gt;</span>
<span class="sx">        &lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">link_to_add</span> <span class="s2">&quot;Add an album&quot;</span><span class="p">,</span> <span class="ss">:albums</span> <span class="sx">%&gt;</span>
<span class="sx">        &lt;br /&gt;</span>
        <span class="o">&lt;</span><span class="n">br</span> <span class="sr">/&gt;</span>
<span class="sr">        &lt;div class=&quot;controls&quot;&gt;</span>
<span class="sr">          &lt;%= f.submit nil, :class =&gt; &#39;btn btn-primary&#39; %&gt;</span>
<span class="sr">        &lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
</code></pre></div>


<ul>
<li>in _album_fields.html.erb</li>
</ul>


<div class="highlight"><pre><code class="ruby">     
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;controls&quot;</span><span class="o">&gt;</span>
          <span class="no">Album</span> <span class="no">Name</span> <span class="p">:</span>
          <span class="o">&lt;</span><span class="sx">%= f.text_field :name, :class =</span><span class="o">&gt;</span> <span class="s1">&#39;text_field&#39;</span> <span class="sx">%&gt;</span>
<span class="sx">          &lt;%= f.link_to_remove &quot;Remove this album&quot; %&gt;</span>
          <span class="o">&lt;</span><span class="sx">%= f.fields_for :photos %&gt;</span>
<span class="sx">            &lt;p&gt;</span>
<span class="sx">            &lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">link_to_add</span> <span class="s2">&quot;Add a photo&quot;</span><span class="p">,</span> <span class="ss">:photos</span> <span class="sx">%&gt;</span>
<span class="sx">            &lt;/p&gt;</span>
        <span class="o">&lt;</span><span class="sr">/div&gt;</span>
</code></pre></div>


<ul>
<li>in _photo_fields.html.erb</li>
</ul>


<div class="highlight"><pre><code class="ruby">     
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;controls offset1&quot;</span><span class="o">&gt;</span>
          <span class="no">File</span> <span class="p">:</span>
          <span class="o">&lt;</span><span class="sx">%= f.text_field :tags_name %&gt;</span>
<span class="sx">          &lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">file_field</span> <span class="ss">:avatar</span> <span class="sx">%&gt;</span>
<span class="sx">          &lt;%= f.link_to_remove &quot;Remove this photo&quot; %&gt;</span>
        <span class="o">&lt;</span><span class="sr">/div&gt;</span>
</code></pre></div>


<ul>
<li>in show_albums.html.erb</li>
</ul>


<div class="highlight"><pre><code class="ruby">        <span class="o">&lt;</span><span class="sx">% thumbnails </span><span class="o">=</span> <span class="n">get_photos</span><span class="p">(</span><span class="vi">@albums</span><span class="p">)</span> <span class="k">if</span> <span class="vi">@albums</span> <span class="sx">%&gt;</span>
<span class="sx">         &lt;% if thumbnails %&gt;</span>
            <span class="o">&lt;</span><span class="sx">% thumbnails.each </span><span class="k">do</span> <span class="o">|</span><span class="n">thumb</span><span class="o">|</span> <span class="sx">%&gt;</span>
<span class="sx">              &lt;%= thumb.html_safe  %&gt;</span>
            <span class="o">&lt;</span><span class="sx">% end %&gt;</span>
<span class="sx">         &lt;% end %&gt;</span>
         <span class="o">&lt;%=</span> <span class="n">show_tags</span> <span class="vi">@albums</span> <span class="o">%&gt;</span>
          
</code></pre></div>


<ul>
<li>Add dropbox.yml in config folder with following data :**</li>
</ul>


<div class="highlight"><pre><code class="ruby">        <span class="n">app_key</span><span class="p">:</span>    
        <span class="n">app_secret</span><span class="p">:</span>    
        <span class="n">access_token</span><span class="p">:</span>    
        <span class="n">access_token_secret</span><span class="p">:</span>    
        <span class="n">user_id</span><span class="p">:</span>
    
</code></pre></div>


<ul>
<li><p>These variables are Environment variables in environments files.</p></li>
<li><p>For detailed setup for paperclip-dropbox gem <a href="https://github.com/janko-m/paperclip-dropbox">paperclip-dropbox</a></p></li>
<li>Setup Twitter Bootstrap **</li>
</ul>


<div class="highlight"><pre><code class="ruby">        <span class="n">rails</span> <span class="n">generate</span> <span class="ss">bootstrap</span><span class="p">:</span><span class="n">install</span> <span class="n">less</span>  
        <span class="n">rails</span> <span class="n">g</span> <span class="ss">bootstrap</span><span class="p">:</span><span class="n">layout</span> <span class="n">application</span> <span class="n">fixed</span><span class="o">**</span><span class="no">Step</span> <span class="mi">10</span> <span class="p">:</span> <span class="no">Run</span> <span class="n">the</span> <span class="n">application</span> <span class="ss">:**</span>  
        <span class="n">bundle</span>  
        <span class="n">rake</span> <span class="ss">db</span><span class="p">:</span><span class="n">create</span>  
        <span class="n">rake</span> <span class="ss">db</span><span class="p">:</span><span class="n">migrate</span>  
        <span class="n">rails</span> <span class="n">s</span>     
</code></pre></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Cloning a specific GIT branch from a repository]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2012/10/22/Cloning-a-specific-GIT-branch-from-a-repository/"/>
    <updated>2012-10-22T13:45:13+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2012/10/22/Cloning-a-specific-GIT-branch-from-a-repository</id>
    <content type="html"><![CDATA[<ul>
<li><p>Clone the master branch</p>

<pre><code>  git clone &lt;repo master&gt;
</code></pre></li>
<li><p>Clone the specific GIT branch</p>

<pre><code>  git fetch origin +branchname:branchname
</code></pre></li>
<li><p>Switch to the branch</p>

<pre><code>  git checkout branchname
</code></pre></li>
<li><p>Check the file difference between the master and the branch</p>

<pre><code>  git diff --name-status master..sibos
</code></pre></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Migrating code from SVN to GIT]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2012/09/28/Migrating-code-from-SVN-to-GIT/"/>
    <updated>2012-09-28T00:33:52+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2012/09/28/Migrating-code-from-SVN-to-GIT</id>
    <content type="html"><![CDATA[<ul>
<li><p>Install <code>git-svn</code> on ubuntu or linux</p>

<pre><code>  git-svn clone &lt;svn repo link&gt;  my_project  
</code></pre></li>
<li><p>You need to do a bit of post-import cleanup. For one thing, you should clean up the weird references that git svn set up. First you’ll move the tags so they’re actual tags rather than strange remote branches, and then you’ll move the rest of the branches so they’re local.<br/>
To move the tags to be proper Git tags, run</p>

<pre><code>  cp -Rf .git/refs/remotes/tags/* .git/refs/tags/  
  rm -Rf .git/refs/remotes/tags  
</code></pre></li>
<li><p>This takes the references that were remote branches that started with tag/ and makes them real (lightweight) tags.
Next, move the rest of the references under refs/remotes to be local branches:</p>

<pre><code>  cp -Rf .git/refs/remotes/* .git/refs/heads/  
  rm -Rf .git/refs/remotes  
</code></pre></li>
<li><p>Now all the old branches are real Git branches and all the old tags are real Git tags. The last thing to do is add your new Git server as a remote and push to it. Here is an example of adding your server as a remote:</p>

<pre><code>  git remote add origin git@my-git-server:myrepository.git  
</code></pre></li>
<li><p>Because you want all your branches and tags to go up, you can now run this</p>

<pre><code>  git push origin --all  
</code></pre></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix Readline error Ubuntu]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2012/08/11/Fix-Readline-error-Ubuntu/"/>
    <updated>2012-08-11T00:48:12+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2012/08/11/Fix-Readline-error-Ubuntu</id>
    <content type="html"><![CDATA[<pre><code>    sudo apt-get install libreadline-dev

    cd ~/.rvm/src/ruby-1.8.7-p249/ext/readline

    ruby extconf.rb &amp;&amp; make &amp;&amp; make install
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Capistrano]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2012/08/10/Capistrano-GIT-Too-many-arguments-while-deployment/"/>
    <updated>2012-08-10T00:00:00+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2012/08/10/Capistrano-GIT-Too-many-arguments-while-deployment</id>
    <content type="html"><![CDATA[<h2>Too many arguments while deployment</h2>

<p><strong>Issue : shell command failed with return code 33024</strong></p>

<p>It&#8217;s a <code>ruby + git clone + windows</code> issue.</p>

<p><strong> If we chain commands with while calling system(cmd) from ruby, chaining <code>git clone</code> with other commands is not fine. Git clone perceives the chained commands as its own continuation, i.e. as a destination directory, unless I run it from the command line.
</strong></p>

<p>As we couldn&#8217;t find any references or solutions to this problem on the internet, I put a hack to capistrano code, so <code>git clone</code> is executed separately.</p>

<p>In<br/>
<code>
ruby-directory\lib\ruby\gems\1.8\gems\capistrano-2.5.18\lib\capistrano\recipes\deploy\strategy\base.rb
</code></p>

<p><strong> after the line 53 (cmd = cmd.split&#8230;) </strong>
add the following lines:</p>

<pre>
<code>
if cmd =~ /\s\&\&\s/ && cmd =~ /^git\s+clone/
   cmd1, cmd = cmd.split(" && ", 2)
   super(cmd1)
end
</code>
</pre>


<p>it checks if it&#8217;s a chained command and the first command is &#8220;git clone&#8221;, and if such it executes it separately. It may not work for all possible cases.</p>

<h3>Also you can try using ubuntu from your local.</h3>

<hr />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Installing RMagick with Imagemagic on Windows 7/Vista]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2012/08/09/Installing-RMagick-with-Imagemagic-on-Windows-7/"/>
    <updated>2012-08-09T14:00:18+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2012/08/09/Installing-RMagick-with-Imagemagic-on-Windows-7</id>
    <content type="html"><![CDATA[<p>Working with Windows 7 64bit and Ruby 1.9.3.</p>

<ul>
<li><p>Install Ghostscript</p>

<pre><code>  &lt;code&gt;http://downloads.sourceforge.net/project/ghostscript/GPL%20Ghostscript/9.05/gs905w32.exe&lt;/code&gt;
</code></pre></li>
<li><p>Install Imagemagick<br/>
Use the 32 bit version, 64bit is not working.<br/>
<a href="http://www.imagemagick.org/download/binaries/ImageMagick-6.7.6-1-Q16-windows-dll.exe">Imagemagick</a></p>

<pre><code>  Install dev headers (Check!)
  Install into C:\opt\
</code></pre></li>
<li><p>Restart the console/cmd prompt/IDE/.. or just restart windows to make Imagemagick commands available</p></li>
<li><p>Install rmagick</p></li>
</ul>


<blockquote><pre><code></code>
    gem install rmagick &#8211;platform=ruby &#8211; &#8211;with-opt-lib=C:/opt/ImageMagick-6.7.6-Q16/lib 
    &#8211;with-opt-include=c:/opt/ImageMagick-6.7.6-Q16/include
</pre></blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Creating a native iOS application !]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2012/06/13/Creating-a-native-iOS-application/"/>
    <updated>2012-06-13T19:47:34+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2012/06/13/Creating-a-native-iOS-application</id>
    <content type="html"><![CDATA[<h3>Installing XCode on the system</h3>

<ul>
<li>Download and install <code>XCode</code> from the App Center alongwith the <code>Developer Tools</code></li>
</ul>


<h3>Download the Phonegap SDK</h3>

<ul>
<li>Download and unzip the Phonegap SDK.</li>
<li>Now navigate to the <code>iOS directory</code> in the extracted source and run the <code>Cordova-1.7.0.dmg</code> and install it.</li>
</ul>


<h3>Creating a XCode Project</h3>

<p>Run <code>XCode</code> and create a new Project</p>

<p>Select the template</p>

<ul>
<li><code>Cordova-based Application</code></li>
</ul>


<p>This will create the a new project and include the neccesary Phonegap API Files.</p>

<h3>Changing the default compiler</h3>

<ul>
<li>Click on the application name and select <code>BUILD SETTINGS</code> tab in the center pane</li>
<li>Change the compiler in the <code>BUILD OPTIONS</code> from <code>APPLE LLVM COMPILER</code> to <code>LLVM GCC</code></li>
</ul>


<h3>Build and Run the Project</h3>

<ul>
<li>Click on the left top of the XCode window selecting the default device as iPad/iPhone Now run the Project. This would invoke the simulator and run the application on it.</li>
<li>Once the application runs a error will Popup stating the <code>index.html</code> is not found. Close the simulator and return back to the XCode project window.</li>
</ul>


<h3>Include <code>www</code> folder in the project to start with application development</h3>

<ul>
<li>Right click the project name and select <code>Show in Finder</code></li>
<li>Drag the <code>www</code> folder from the <code>Finder</code> to the <code>Project</code></li>
<li>A window pop&#8217;s up , select to create references to the files.</li>
</ul>


<h3>Again <code>BUILD &amp;amp; RUN</code></h3>

<ul>
<li>Now again build and run the project in an iPad/iPhone simulatore</li>
<li>This time it would show up the <code>index.html</code> which is located in the <code>www</code> folder. Also it would show up the <code>Dialog</code> stating that Phonegap was successfully integrated in the application</li>
</ul>


<h3>Download JQuery Mobile bundle</h3>

<p>Download the latest build of JQuery Mobile from  Unzip the contents and add the files in the <code>www</code> folder categorizing the folders as</p>

<ul>
<li><code>javascripts</code></li>
<li><code>stylesheets</code></li>
<li>`images&#8217;</li>
</ul>


<h3>Including the JQuery mobile in the application</h3>

<ul>
<li>Open <code>index.html</code> and create references to the javascript and css files located in the <code>www</code> folder using the html tags</li>
</ul>


<h4>Add a few lines of HTML to the index page and use the JQuery classes and the Phonegap api function calls to implement the features of the native application as desired</h4>

<h3>* not tested though</h3>

<ul>
<li>Once the application is complete or for on Device testing a <code>Apple's Developer License</code> is required to sign the applications.</li>
<li>After signing it , push the application to <code>PhoneGap Build</code> .</li>
<li>Download the build package and deploy to th Device.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setting up Rhomobile with an Android Emulator]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2012/02/11/Setting-up-RHODES-with-an-Android-Emulator/"/>
    <updated>2012-02-11T00:00:00+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2012/02/11/Setting-up-RHODES-with-an-Android-Emulator</id>
    <content type="html"><![CDATA[<ul>
<li><p>Installing Ruby. Please follow the sequence of commands given below to install ruby on ubuntu using RVM.</p>

<pre><code>  sudo apt-get install git  
  sudo apt-get install curl  
  bash -s stable &amp;lt;  $ rvm pkg install zlib  
  rvm pkg install openssl  
  rvm install ruby-1.8.7-p334  
  rvm alias create default ruby-1.8.7-p334
</code></pre></li>
<li><p>Download Android-sdk for linux</p>

<pre><code>  [Android SDK Download](http://dl.google.com/android/android-sdk_r16-linux.tgz)
</code></pre></li>
<li><p>Download Android-ndk for linux</p>

<pre><code>  [Android NDK Download](http://dl.google.com/android/ndk/android-ndk-r7-linux-x86.tar.bz2)
</code></pre></li>
<li><p>Extract both the zip files in two different folder&#8217;s.</p></li>
<li><p>Java is needed to be installed in the system.If not then download the Java SDK zip files from</p>

<pre><code>  [Java SDK 7 Download](http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u2-download-1377129.html)
</code></pre></li>
<li><p>Open the terminal and install the rhodes gem.</p>

<pre><code>  &lt;code&gt; gem install rhodes  &lt;/code&gt;  
</code></pre>

<p>the installation of the gem will take time as the size of the gem is &lt; 50 MB</p></li>
<li><p>After the gem installation ,type</p>

<pre><code>  &lt;code&gt;rhodes-setup&lt;/code&gt;
</code></pre>

<p>at the terminal .The screen should come up something like this :
<img src="http://2.bp.blogspot.com/-uM0CgKEDFsw/TzZMJ6ijPmI/AAAAAAAAACE/q4_DxHJpnmE/s1600/Screenshot+at+2012-02-11+16:28:15.png" alt="Alt pik" /></p>

<p>  Now type in the directories where you extracted the</p>

<pre><code>  Java SDK    
  Android SDK    
  Android NDK   
</code></pre></li>
<li><p>Setting up the environment is complete.</p></li>
</ul>


<p><strong>Now we will generate a demo application using rhodes to test the emulator.</strong></p>

<ul>
<li><p>Setting up Android SDK to host an emulator of a specific android version.</p></li>
<li><p>Go to the directory where you extracted the sdk .Then go into the tools folder in the sdk and click on a file name <strong>&#8220;android&#8221;</strong>.A window opens up : 3. Click on the checkbox Android 3.0 , this selects all the checkboxes in this group.Now click on install wait for a few minutes.</p></li>
<li><p>Now open your terminal and generate a new rhodes application.</p>

<pre><code> rhogen app Demo 
 cd Demo 5. 
</code></pre>

<p> Edit the built.yml file in any text editor to change the android version to 3.0 instead of default 2.1 and add an emulator name.</p></li>
<li><p>Now go back to the terminal and type</p>

<pre><code> rake run:android 
</code></pre></li>
<li><p>The android emulator will show up in a few minutes and load the rhomobile application . <br/>
Now we can go forward designing the mobile application.</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Export to Excel in Rails 3 without a Gem]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2011/11/30/Export-to-Excel-in-Rails-3-without-a-Gem/"/>
    <updated>2011-11-30T02:32:54+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2011/11/30/Export-to-Excel-in-Rails-3-without-a-Gem</id>
    <content type="html"><![CDATA[<ul>
<li>Creating Demo project</li>
</ul>


<div class="highlight"><pre><code class="ruby"> <span class="n">rails</span> <span class="kp">new</span> <span class="n">xcel_demo</span> <span class="err">–</span><span class="n">d</span> <span class="n">mysql</span>
</code></pre></div>


<ul>
<li>Creating a User model</li>
</ul>


<div class="highlight"><pre><code class="ruby"> <span class="n">rails</span> <span class="n">g</span> <span class="n">scaffold</span> <span class="no">User</span> <span class="nb">name</span><span class="ss">:string</span> <span class="ss">email</span><span class="p">:</span><span class="n">string</span> <span class="ss">content</span><span class="p">:</span><span class="n">string</span>
</code></pre></div>


<ul>
<li>Add a MIME type in \config\initializers\mime_type.rb</li>
</ul>


<div class="highlight"><pre><code class="ruby"> <span class="ss">Mime</span><span class="p">:</span><span class="ss">:Type</span><span class="o">.</span><span class="n">register</span> <span class="s1">&#39;application/vnd.ms-excel&#39;</span><span class="p">,</span> <span class="ss">:xls</span>
</code></pre></div>


<ul>
<li>Add a xls format output to the method in the Controller</li>
</ul>


<div class="highlight"><pre><code class="ruby">     <span class="k">def</span> <span class="nf">index</span>
      <span class="vi">@users</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">all</span>
      <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
        <span class="nb">format</span><span class="o">.</span><span class="n">html</span> <span class="c1"># index.html.erb</span>
        <span class="nb">format</span><span class="o">.</span><span class="n">xls</span>
        <span class="nb">format</span><span class="o">.</span><span class="n">xml</span>  <span class="p">{</span> <span class="n">render</span> <span class="ss">:xml</span> <span class="o">=&gt;</span> <span class="vi">@users</span> <span class="p">}</span>
      <span class="k">end</span>
    <span class="k">end</span>
        
</code></pre></div>


<ul>
<li><p>Creating the view for the XLS</p></li>
<li><p>Now create a view to render the xls file. Here as we have modified the index method we will create a view index.xls.erb for the same in the views for Users</p></li>
</ul>


<div class="highlight"><pre><code class="ruby"> <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="no">Listing</span> <span class="n">users</span><span class="o">&lt;</span><span class="sr">/h1&gt;</span>

<span class="sr">   &lt;table&gt;</span>
<span class="sr">     &lt;tr&gt;</span>
<span class="sr">       &lt;th&gt;Name&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="no">City</span><span class="o">&lt;</span><span class="sr">/th&gt;</span>
<span class="sr">       &lt;th&gt;Gender&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="no">Phone</span><span class="o">&lt;</span><span class="sr">/th&gt;</span>
<span class="sr">       &lt;th&gt;Address&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;&lt;</span><span class="sr">/th&gt;</span>
<span class="sr">       &lt;th&gt;&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;&lt;</span><span class="sr">/th&gt;</span>
<span class="sr">     &lt;/</span><span class="n">tr</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="sx">% @users.each </span><span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span> <span class="sx">%&gt;</span>
<span class="sx">     &lt;tr&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;&lt;</span><span class="sx">%= user.name %&gt;&lt;/td&gt;</span>
<span class="sx">       &lt;td&gt;&lt;%=</span> <span class="n">user</span><span class="o">.</span><span class="n">city</span> <span class="sx">%&gt;&lt;/td&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;&lt;</span><span class="sx">%= user.gender %&gt;&lt;/td&gt;</span>
<span class="sx">       &lt;td&gt;&lt;%=</span> <span class="n">user</span><span class="o">.</span><span class="n">phone</span> <span class="sx">%&gt;&lt;/td&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;&lt;%=</span> <span class="n">user</span><span class="o">.</span><span class="n">address</span> <span class="sx">%&gt;&lt;/td&gt;</span>
      <span class="o">&lt;</span><span class="sr">/tr&gt;</span>
<span class="sr">   &lt;% end %&gt;</span>
<span class="sr">   &lt;/</span><span class="n">table</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">br</span> <span class="sr">/&gt;</span>
</code></pre></div>


<ul>
<li>The text in the <th> tags are the headers and <td> tags are the data for the specified columns</li>
<li>Adding the link to export excel on the Index page</li>
</ul>


<div class="highlight"><pre><code class="ruby">    <span class="sb">`&lt;%= link_to &#39;Export XLS&#39;, url_for(:format =&gt; &#39;xls&#39;) %&gt;`</span>
</code></pre></div>


<ul>
<li>This will allow the data on index page to be exported in Excel Format</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Action Mailer]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2011/11/11/Action-Mailer-for-Rails-3/"/>
    <updated>2011-11-11T01:45:45+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2011/11/11/Action-Mailer-for-Rails-3</id>
    <content type="html"><![CDATA[<h2>For rails 3</h2>

<p>Action Mailer allows you to send email from your application using a mailer
model and views.</p>

<p>This tutorial is about how to send an email using gmail free service in Ruby on Rails 3 and above</div></p>

<h3>Creating Demo project</h3>

<div class="highlight"><pre><code class="ruby">    <span class="n">rails</span> <span class="kp">new</span> <span class="n">mail_demo</span> <span class="err">–</span><span class="n">d</span> <span class="n">mysql</span> 
        
</code></pre></div>


<h3>Creating a User model</h3>

<div class="highlight"><pre><code class="ruby">    <span class="n">rails</span> <span class="n">g</span> <span class="n">scaffold</span> <span class="no">User</span> <span class="nb">name</span><span class="ss">:string</span> <span class="ss">email</span><span class="p">:</span><span class="n">string</span> <span class="ss">content</span><span class="p">:</span><span class="n">string</span> 
</code></pre></div>


<h3>Creating a Mailer model</h3>

<div class="highlight"><pre><code class="ruby">    <span class="n">rails</span> <span class="n">g</span> <span class="n">mailer</span> <span class="n">user_mailer</span> 
</code></pre></div>


<h3>Setting up the development.rb for configuring application settings to</h3>

<p>access mail smtp server</p>

<h4>In development.rb</h4>

<div class="highlight"><pre><code class="ruby">    <span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">delivery_method</span> <span class="o">=</span> <span class="ss">:smtp</span>
    <span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">smtp_settings</span> <span class="o">=</span> <span class="p">{</span>
     <span class="ss">:enable_starttls_auto</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="kp">true</span><span class="p">,</span>
     <span class="ss">:address</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s1">&#39;smtp.gmail.com&#39;</span><span class="p">,</span>
     <span class="ss">:port</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">587</span><span class="p">,</span>
     <span class="ss">:domain</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s1">&#39;your.domain.com&#39;</span><span class="p">,</span>
     <span class="ss">:authentication</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="ss">:login</span><span class="p">,</span>
     <span class="ss">:content_type</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
     <span class="ss">:user_name</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span>
     <span class="ss">:password</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s1">&#39;password&#39;</span>
    <span class="p">}</span>

    <span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">perform_deliveries</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">raise_delivery_errors</span> <span class="o">=</span> <span class="kp">true</span>
        
</code></pre></div>


<p>Remember these are the basic settings needed to send mails from gmail ,other server may
have different settings.</p>

<h3>Creating the mailer</h3>

<p>Now we will write the method in user_mailer model to send the mail .Remember in the mailer model  :</p>

<div class="highlight"><pre><code class="ruby">    <span class="k">def</span> <span class="nf">send_email</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
       <span class="n">recipients</span>  <span class="n">user</span><span class="o">.</span><span class="n">email</span>
       <span class="n">from</span>        <span class="s2">&quot;webmaster@example.com&quot;</span>
       <span class="n">subject</span>     <span class="s2">&quot;Thank you for Registering&quot;</span>
       <span class="n">part</span> <span class="ss">:content_type</span> <span class="o">=&gt;</span> <span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
        <span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">render_message</span><span class="p">(</span><span class="s2">&quot;registration_confirmation&quot;</span><span class="p">,</span> <span class="ss">:user</span> <span class="o">=&gt;</span> <span class="n">user</span><span class="p">)</span>
    <span class="k">end</span>
</code></pre></div>


<h3>Creating Email Template</h3>

<div class="highlight"><pre><code class="ruby"> 
    <span class="s2">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
    <span class="n">h3</span> <span class="p">{</span> <span class="ss">color</span><span class="p">:</span> <span class="c1">#f00; }</span>
    <span class="n">ul</span> <span class="p">{</span> <span class="n">list</span><span class="o">-</span><span class="ss">style</span><span class="p">:</span> <span class="n">none</span><span class="p">;</span> <span class="p">}</span>
    <span class="no">Your</span> <span class="n">account</span> <span class="n">signup</span> <span class="n">details</span> <span class="n">are</span> <span class="n">below</span>
    <span class="ss">Name</span><span class="p">:</span>  
    <span class="ss">Login</span><span class="p">:</span> 
    <span class="ss">Image</span><span class="p">:</span> 
    <span class="ss">Content</span><span class="p">:</span> 
        
</code></pre></div>


<p>The method is referred to as deliver_send_email because rails appends it to a mailer method.Now
run the server and try creating a new user . The email is sent to the address
the user enters for the new record.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Action Mailer 2.3.9]]></title>
    <link href="http://www.ashish-upadhyay.com/blog/2011/11/11/ActionMailer-2.3.9-Tutorial/"/>
    <updated>2011-11-11T01:35:14+05:30</updated>
    <id>http://www.ashish-upadhyay.com/blog/2011/11/11/ActionMailer-2.3.9-Tutorial</id>
    <content type="html"><![CDATA[<h1>Easy email delivery and testing</h1>

<p>Action Mailer allows you to send email from your application using a mailer model and views.<br/>
This tutorial is about how to send an email using gmail free service in Ruby on Rails 2.3.9, for versions higher than this refer rails guides .</p>

<h3>Creating Demo project</h3>

<div class="highlight"><pre><code class="ruby">    <span class="n">rails</span> <span class="n">mail_demo</span> <span class="err">–</span><span class="n">d</span> <span class="n">mysql</span>        
</code></pre></div>


<h3>Creating a User model</h3>

<div class="highlight"><pre><code class="ruby">    <span class="n">ruby</span> <span class="n">script</span><span class="o">/</span><span class="n">generate</span> <span class="n">scaffold</span> <span class="no">User</span> <span class="nb">name</span><span class="ss">:string</span> <span class="ss">email</span><span class="p">:</span><span class="n">string</span> <span class="ss">content</span><span class="p">:</span><span class="n">string</span>
</code></pre></div>


<h3>Creating a Mailer model</h3>

<div class="highlight"><pre><code class="ruby">    <span class="n">ruby</span> <span class="n">script</span><span class="o">/</span><span class="n">generate</span> <span class="n">mailer</span> <span class="n">user_mailer</span>
</code></pre></div>


<h3>Setting up the development.rb for configuring application settings to access mail smtp server</h3>

<h4>In development.rb</h4>

<div class="highlight"><pre><code class="ruby">    <span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">delivery_method</span> <span class="o">=</span> <span class="ss">:smtp</span>
    <span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">raise_delivery_errors</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">smtp_settings</span> <span class="o">=</span> <span class="p">{</span>
     <span class="ss">:enable_starttls_auto</span> <span class="o">=</span><span class="kp">true</span><span class="p">,</span>
     <span class="ss">:address</span> <span class="o">=</span><span class="s1">&#39;smtp.gmail.com&#39;</span><span class="p">,</span>
     <span class="ss">:port</span> <span class="o">=</span><span class="mi">587</span><span class="p">,</span>
     <span class="ss">:domain</span> <span class="o">=</span><span class="s1">&#39;your.domain.com&#39;</span><span class="p">,</span>
     <span class="ss">:authentication</span> <span class="o">=</span><span class="ss">:login</span><span class="p">,</span>
     <span class="ss">:content_type</span> <span class="o">=</span><span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
     <span class="ss">:user_name</span> <span class="o">=</span><span class="n">your</span> <span class="n">full</span> <span class="n">username</span> <span class="n">example</span> <span class="n">xyz</span><span class="vi">@gmail</span><span class="o">.</span><span class="n">com</span><span class="s1">&#39;,</span>
<span class="s1">     :password =&#39;</span><span class="n">password</span><span class="err">&#39;</span>
    <span class="p">}</span>
</code></pre></div>


<p>Remember these are the basic settings needed to send mails from gmail ,other server may have different settings .</p>

<h3>Creating the mailer</h3>

<p>Now we will write the method in user_mailer model to send the mail .Remember in the mailer model</p>

<div class="highlight"><pre><code class="ruby">    <span class="k">def</span> <span class="nf">send_email</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
     <span class="n">recipients</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="err">Ï</span>
     <span class="n">from</span> <span class="s2">&quot;webmaster@example.com&quot;</span>
     <span class="n">subject</span> <span class="s2">&quot;Thank you for Registering&quot;</span>
     <span class="n">part</span> <span class="ss">:content_type</span> <span class="o">=</span><span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
     <span class="ss">:body</span> <span class="o">=</span><span class="n">render_message</span><span class="p">(</span><span class="s2">&quot;registration_confirmation&quot;</span><span class="p">,</span> <span class="ss">:user</span> <span class="o">=</span><span class="n">user</span><span class="p">)</span>
    <span class="k">end</span>
</code></pre></div>


<p>The from field can be your own or your domains email address. Please check if the from for field has invalid email the user will not be able to reply .</p>

<h3>Creating Email Template</h3>

<p>Now we will create a view which would form a the email template .It is named as same as the method in the model user_mailer ie. Send_email.html.erb</p>

<div class="highlight"><pre><code class="ruby">    <span class="s2">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
    <span class="n">h3</span> <span class="p">{</span> <span class="ss">color</span><span class="p">:</span> <span class="c1">#f00; }</span>
    <span class="n">ul</span> <span class="p">{</span> <span class="n">list</span><span class="o">-</span><span class="ss">style</span><span class="p">:</span> <span class="n">none</span><span class="p">;</span> <span class="p">}</span>
    <span class="no">Your</span> <span class="n">account</span> <span class="n">signup</span> <span class="n">details</span> <span class="n">are</span> <span class="n">below</span>
    <span class="ss">Name</span><span class="p">:</span>  
    <span class="ss">Login</span><span class="p">:</span> 
    <span class="ss">Image</span><span class="p">:</span> 
    <span class="ss">Content</span><span class="p">:</span> 
</code></pre></div>


<p>In the end add a line to the create method of the Users_controller</p>

<div class="highlight"><pre><code class="ruby">    <span class="no">UserMailer</span><span class="o">.</span><span class="n">deliver_send_email</span><span class="p">(</span><span class="vi">@user</span><span class="p">)</span>
        
</code></pre></div>


<p>The method is referred to as deliver_send_email because rails appends it to a mailer method.</p>

<p>Now run the server and try creating a new user. The email is sent to the address the user enters for the new record.</p>
]]></content>
  </entry>
  
</feed>
